// All breakpoint mixins required for Cru branding
// v1.0

@mixin cru-media-breakpoint-up($var) {
  @if $var {
    @media (min-width: $var) {
      @content;
    }
  } @else {
    @content;
  }
}

@mixin cru-media-breakpoint-down($var) {
  @if $var {
    @media (max-width: $var) {
      @content;
    }
  } @else {
    @content;
  }
}

// "Between" is intended to be used in conjunction with "down" as it adds 1 to the minimum width
@mixin cru-media-breakpoint-between($var1, $var2) {
  @if $var1 {
    @media (min-width: $var1 + 1) and (max-width: $var2) {
      @content;
    }
  } @else {
    @content;
  }
}

@mixin cru-responsive-styles($map) {
  $mobile: map-get($map, 'mobile');
  $tablet: map-get($map, 'tablet');
  $desktop: map-get($map, 'desktop');

  @if $cru-aem-responsive == true {
    @include cru-output-styles-from-map($desktop);

    @include cru-media-breakpoint-down($cru-breakpoint-sm) {
      @include cru-output-styles-from-map($mobile);
    }
    
    @include cru-media-breakpoint-between($cru-breakpoint-sm, $cru-breakpoint-md) {
      @include cru-output-styles-from-map($tablet);
    }

    @include cru-media-breakpoint-between($cru-breakpoint-md, $cru-breakpoint-lg) {
      @include cru-output-styles-from-map($tablet);
    }
  } @else {
    @include cru-output-styles-from-map($mobile);

    @include cru-media-breakpoint-up($cru-breakpoint-sm) {
      @include cru-output-styles-from-map($tablet);
    }

    @include cru-media-breakpoint-up($cru-breakpoint-md) {
      @include cru-output-styles-from-map($tablet);
    }

    @include cru-media-breakpoint-up($cru-breakpoint-lg) {
      @include cru-output-styles-from-map($desktop);
    }
  }
}

@mixin cru-output-styles-from-map($map) {
  @each $style, $val in $map {
    #{$style}: $val;
  }
}
